<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Polling and Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <div id="auth">
            <h2>Login</h2>
            <input id="username" style="height: inherit; border: 3px solid rgba(27, 31, 35, 0.15);" type="text" placeholder="Username">
            <input id="password" style="height: inherit; border: 3px solid rgba(27, 31, 35, 0.15);" type="password" placeholder="Password">
            <button class="button" onclick="login()">Login</button>
            <button class="button" onclick="showSignup()">Sign Up</button>
        </div>
        <div id="signup" style="display:none;">
            <h2>Sign Up</h2>
            <input id="signup-username" style="height: inherit; border: 3px solid rgba(27, 31, 35, 0.15);"  type="text" placeholder="Username">
            <input id="signup-password" style="height: inherit; border: 3px solid rgba(27, 31, 35, 0.15);"  type="password" placeholder="Password">
            <button class="button" onclick="signup()">Sign Up</button>
            <button class="button" onclick="showLogin()">Back to Login</button>
        </div>
        <div id="poll" style="display:none;">
            <h2>Current Poll</h2>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.min.js"
                integrity="sha512-gVG6WRMUYFaIdoocaxbqd02p3DUbhReTBWc7NTGB96i7vONrr7GuCZJHFFmkXEhpwilIWUnfRIMSlKaApwd/jg=="
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"
                integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
                crossorigin="anonymous"></script>

            <!-- The title -->
            <h1 id="heading" style="text-align: center;"></h1>

            <!-- The canvas -->
            <canvas id="voteChart" style="height:100vh; width:100vw"></canvas>

            <!-- The buttons -->
            <div class="center">
                <button class="button" onclick="vote(0)">Bad</button>
                <button class="button" onclick="vote(1)">Not Bad</button>
                <button class="button" onclick="vote(2)">Good</button>
                <button class="button" onclick="vote(3)">Fine</button>
                <button class="button" onclick="vote(4)">Perfect</button>
            </div>
        </div>
        <div id="chat" style="display:none;">
            <h2>Chat</h2>
            <div id="chat-window"></div>
            <input id="message-input" style="height: inherit; border: 3px solid rgba(27, 31, 35, 0.15);" type="text"
                placeholder="Type a message...">
            <button id="enterButton" class="button" onclick="sendMessage()">Send</button>
            <div id="typing-indicator"></div>
        </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>

</html>
